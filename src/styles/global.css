@import "tailwindcss";
@plugin "daisyui";

@custom-variant dark (&:where(.dark, .dark *));
@font-face {
	font-family: "Gotham Rounded";
	src:
		url("/fonts/gothamrounded-medium-webfont.woff") format("woff"),
		url("/fonts/gothamrounded-medium-webfont.ttf") format("truetype");
	font-weight: normal;
	font-style: normal;
	font-display: swap;
}

/* Modern CSS Custom Properties */
:root {
	/* Enhanced Purple Palette */
	--color-primary-50: #faf7ff;
	--color-primary-100: #f3e8ff;
	--color-primary-200: #e9d5ff;
	--color-primary-300: #d8b4fe;
	--color-primary-400: #c084fc;
	--color-primary-500: #8c4799;
	--color-primary-600: #7c3085;
	--color-primary-700: #6b2c75;
	--color-primary-800: #581c5a;
	--color-primary-900: #441545;

	/* Enhanced Shadows */
	--shadow-soft: 0 2px 8px rgba(140, 71, 153, 0.08);
	--shadow-medium: 0 4px 16px rgba(140, 71, 153, 0.12);
	--shadow-strong: 0 8px 32px rgba(140, 71, 153, 0.16);
	--shadow-glow:
		0 0 0 1px rgba(140, 71, 153, 0.1), 0 4px 16px rgba(140, 71, 153, 0.15);

	/* Glass Effects */
	--glass-bg: rgba(255, 255, 255, 0.85);
	--glass-border: rgba(255, 255, 255, 0.2);

	/* Gradients */
	--gradient-primary: linear-gradient(135deg, #8c4799 0%, #6b2c75 100%);
	--gradient-surface: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
}

.dark {
	/* Dark Mode Overrides */
	--glass-bg: rgba(31, 41, 55, 0.85);
	--glass-border: rgba(255, 255, 255, 0.1);
	--gradient-surface: linear-gradient(135deg, #1f2937 0%, #111827 100%);
}

@keyframes soft-blink {
	0% {
		background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
	}
	50% {
		background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
		box-shadow: 0 12px 48px rgba(0, 0, 0, 0.25);
	}
	100% {
		background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
	}
}

@keyframes soft-blink-dark {
	0% {
		background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
	}
	50% {
		background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
		box-shadow: 0 12px 48px rgba(0, 0, 0, 0.6);
	}
	100% {
		background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
	}
}

@keyframes soft-blink-highlight {
	0% {
		background: linear-gradient(135deg, #faf7ff 0%, #f3e8ff 100%);
		border-color: #8c4799;
		box-shadow:
			0 0 0 1px #8c4799,
			0 8px 32px rgba(0, 0, 0, 0.15);
	}
	50% {
		background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%);
		border-color: #7a3f86;
		box-shadow:
			0 0 0 1px #7a3f86,
			0 12px 48px rgba(0, 0, 0, 0.25);
	}
	100% {
		background: linear-gradient(135deg, #faf7ff 0%, #f3e8ff 100%);
		border-color: #8c4799;
		box-shadow:
			0 0 0 1px #8c4799,
			0 8px 32px rgba(0, 0, 0, 0.15);
	}
}

@keyframes soft-blink-highlight-dark {
	0% {
		background: linear-gradient(135deg, #2d1a33 0%, #1f1726 100%);
		border-color: #b388ff;
		box-shadow:
			0 0 0 1px #b388ff,
			0 8px 32px rgba(0, 0, 0, 0.4);
	}
	50% {
		background: linear-gradient(135deg, #3730a3 0%, #4338ca 100%);
		border-color: #7c4dff;
		box-shadow:
			0 0 0 1px #7c4dff,
			0 12px 48px rgba(0, 0, 0, 0.6);
	}
	100% {
		background: linear-gradient(135deg, #2d1a33 0%, #1f1726 100%);
		border-color: #b388ff;
		box-shadow:
			0 0 0 1px #b388ff,
			0 8px 32px rgba(0, 0, 0, 0.4);
	}
}

.animate-soft-blink {
	animation: soft-blink 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

.dark .animate-soft-blink {
	animation: soft-blink-dark 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

.animate-soft-blink-highlight {
	animation: soft-blink-highlight 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

.dark .animate-soft-blink-highlight {
	animation: soft-blink-highlight-dark 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

/* Synchronize animation with parent state */
[style*="--animation-phase: 0"] .animate-soft-blink,
[style*="--animation-phase: 0"] .animate-soft-blink-highlight {
	animation-play-state: paused;
}

[style*="--animation-phase: 1"] .animate-soft-blink,
[style*="--animation-phase: 1"] .animate-soft-blink-highlight {
	animation-play-state: running;
}

@keyframes pulse {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

.animate-pulse {
	animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Smooth height transitions */
.height-transition {
	transition:
		height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
		max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced focus states */
@layer utilities {
	.focus-ring:focus-visible {
		@apply outline-none ring-2 ring-offset-2 ring-primary dark:ring-offset-gray-800;
	}
}

/* Only apply hover effects on devices that support proper hover */
@media (hover: hover) {
	.station-option:hover {
		background-color: rgb(243 244 246); /* gray-100 */
		transform: translateY(-0.5px);
	}

	.dark .station-option:hover {
		background-color: rgb(55 65 81); /* gray-700 */
	}

	.station-option:active {
		background-color: rgb(229 231 235); /* gray-200 */
		transform: translateY(0);
	}

	.dark .station-option:active {
		background-color: rgb(75 85 99); /* gray-600 */
	}
}

/* Rely on DaisyUI's btn/btn-primary styling */

/* Prefer DaisyUI card utilities; remove card-modern */

/* Use Tailwind utilities for gradient text: bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent */

/* Reduced-motion support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.001ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.001ms !important;
		scroll-behavior: auto !important;
	}
}

/* Constrain media elements, not all elements/pseudo-elements */
img,
picture,
video,
canvas,
svg,
iframe {
	max-width: 100%;
}

/* Scroll Optimization */
html {
	scroll-behavior: smooth;
	/* Prevent bouncing above the header while keeping normal body scroll */
	overscroll-behavior-y: none;
	/* Scroll padding for anchor links */
	scroll-padding-top: 1rem;
	/* Prevent horizontal overflow */
	overflow-x: hidden;
}

body {
	/* Allow native scroll chaining */
	overscroll-behavior: auto;
	/* Prevent horizontal scroll on mobile */
	overflow-x: hidden;
}

/* Scrollable containers */
.scroll-smooth {
	overscroll-behavior: contain;
	scroll-behavior: smooth;
}

/* Mobile-specific scroll optimizations */
@media (max-width: 768px) {
	/* Prevent body scroll when modals/dropdowns are open */
	.scroll-lock {
		overflow: hidden;
		position: fixed;
		width: 100%;
	}
}
