@import "tailwindcss";
@plugin "daisyui";

@custom-variant dark (&:where(.dark, .dark *));
@font-face {
	font-family: "Gotham Rounded";
	src:
		url("/fonts/gothamrounded-medium-webfont.woff") format("woff"),
		url("/fonts/gothamrounded-medium-webfont.ttf") format("truetype");
	font-weight: normal;
	font-style: normal;
	font-display: swap;
}

/* Modern CSS Custom Properties */
:root {
	/* Enhanced Purple Palette */
	--color-primary-50: #faf7ff;
	--color-primary-100: #f3e8ff;
	--color-primary-200: #e9d5ff;
	--color-primary-300: #d8b4fe;
	--color-primary-400: #c084fc;
	--color-primary-500: #8c4799;
	--color-primary-600: #7c3085;
	--color-primary-700: #6b2c75;
	--color-primary-800: #581c5a;
	--color-primary-900: #441545;

	/* Enhanced Shadows */
	--shadow-soft: 0 2px 8px rgba(140, 71, 153, 0.08);
	--shadow-medium: 0 4px 16px rgba(140, 71, 153, 0.12);
	--shadow-strong: 0 8px 32px rgba(140, 71, 153, 0.16);
	--shadow-glow:
		0 0 0 1px rgba(140, 71, 153, 0.1), 0 4px 16px rgba(140, 71, 153, 0.15);

	/* Glass Effects */
	--glass-bg: rgba(255, 255, 255, 0.85);
	--glass-border: rgba(255, 255, 255, 0.2);
	--glass-backdrop: blur(12px);

	/* Gradients */
	--gradient-primary: linear-gradient(135deg, #8c4799 0%, #6b2c75 100%);
	--gradient-primary-soft: linear-gradient(
		135deg,
		rgba(140, 71, 153, 0.1) 0%,
		rgba(107, 44, 117, 0.05) 100%
	);
	--gradient-surface: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
}

.dark {
	/* Dark Mode Overrides */
	--glass-bg: rgba(31, 41, 55, 0.85);
	--glass-border: rgba(255, 255, 255, 0.1);
	--gradient-surface: linear-gradient(135deg, #1f2937 0%, #111827 100%);
}

@keyframes soft-blink {
	0% {
		background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
	}
	50% {
		background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
		box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
	}
	100% {
		background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
	}
}

@keyframes soft-blink-dark {
	0% {
		background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
	}
	50% {
		background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
		box-shadow: 0 4px 16px rgba(30, 58, 138, 0.4);
	}
	100% {
		background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
	}
}

@keyframes soft-blink-highlight {
	0% {
		background: linear-gradient(135deg, #faf7ff 0%, #f3e8ff 100%);
		border-color: #8c4799;
		box-shadow:
			0 0 24px rgba(140, 71, 153, 0.2);
	}
	50% {
		background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%);
		border-color: #7a3f86;
		box-shadow:
			0 0 0 1px #7a3f86,
			0 8px 32px rgba(107, 44, 117, 0.3);
	}
	100% {
		background: linear-gradient(135deg, #faf7ff 0%, #f3e8ff 100%);
		border-color: #8c4799;
		box-shadow:
			0 0 24px rgba(140, 71, 153, 0.2);
	}
}

@keyframes soft-blink-highlight-dark {
	0% {
		background: linear-gradient(135deg, #2d1a33 0%, #1f1726 100%);
		border-color: #b388ff;
		box-shadow:
			0 0 0 1px #b388ff,
			0 8px 32px rgba(179, 136, 255, 0.3);
	}
	50% {
		background: linear-gradient(135deg, #3730a3 0%, #4338ca 100%);
		border-color: #7c4dff;
		box-shadow:
			0 0 0 1px #7c4dff,
			0 12px 48px rgba(124, 77, 255, 0.4);
	}
	100% {
		background: linear-gradient(135deg, #2d1a33 0%, #1f1726 100%);
		border-color: #b388ff;
		box-shadow:
			0 0 0 1px #b388ff,
			0 8px 32px rgba(179, 136, 255, 0.3);
	}
}

.animate-soft-blink {
	animation: soft-blink 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

.dark .animate-soft-blink {
	animation: soft-blink-dark 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

.animate-soft-blink-highlight {
	animation: soft-blink-highlight 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

.dark .animate-soft-blink-highlight {
	animation: soft-blink-highlight-dark 2.5s ease-in-out infinite;
	animation-play-state: running;
	animation-delay: calc(var(--animation-phase, 0) * -2.5s);
}

/* Synchronize animation with parent state */
[style*="--animation-phase: 0"] .animate-soft-blink,
[style*="--animation-phase: 0"] .animate-soft-blink-highlight {
	animation-play-state: paused;
}

[style*="--animation-phase: 1"] .animate-soft-blink,
[style*="--animation-phase: 1"] .animate-soft-blink-highlight {
	animation-play-state: running;
}

@keyframes pulse {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

.animate-pulse {
	animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Enhanced shimmer effect for loading states */
.shimmer-bg {
	background: linear-gradient(
		90deg,
		rgba(140, 71, 153, 0) 0%,
		rgba(140, 71, 153, 0.15) 50%,
		rgba(140, 71, 153, 0) 100%
	);
	background-size: 200% 100%;
}

.dark .shimmer-bg {
	background: linear-gradient(
		90deg,
		rgba(179, 136, 255, 0) 0%,
		rgba(179, 136, 255, 0.1) 50%,
		rgba(179, 136, 255, 0) 100%
	);
	background-size: 200% 100%;
}

/* Prefer DaisyUI card/glass components over custom helpers */

/* Staggered animation delays for lists */
.stagger-1 {
	animation-delay: 0.1s;
}
.stagger-2 {
	animation-delay: 0.2s;
}
.stagger-3 {
	animation-delay: 0.3s;
}
.stagger-4 {
	animation-delay: 0.4s;
}
.stagger-5 {
	animation-delay: 0.5s;
}

/* Smooth height transitions */
.height-transition {
	transition:
		height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
		max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced focus states */
@layer utilities {
	.focus-ring:focus-visible {
		@apply outline-none ring-2 ring-offset-2 ring-primary dark:ring-offset-gray-800;
	}
}

/* Enhanced Micro-interactions */
.hover-lift {
	transition: all 0.2s ease;
}

/* Only apply hover effects on devices that support proper hover */
@media (hover: hover) {
	.hover-lift:hover {
		transform: translateY(-2px) scale(1.01);
		box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
	}

	.dark .hover-lift:hover {
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
	}

	.train-button-hover:hover {
		transform: scale(1.02);
	}

	.train-span-hover:hover {
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
	}

	.station-option:hover {
		background-color: rgb(243 244 246); /* gray-100 */
		transform: translateY(-0.5px);
	}

	.dark .station-option:hover {
		background-color: rgb(55 65 81); /* gray-700 */
	}

	.station-option:active {
		background-color: rgb(229 231 235); /* gray-200 */
		transform: translateY(0);
	}

	.dark .station-option:active {
		background-color: rgb(75 85 99); /* gray-600 */
	}

	.location-button {
		background-color: rgb(239 246 255); /* blue-50 */
	}

	.dark .location-button {
		background-color: rgb(30 58 138); /* blue-900 */
	}

	.location-button:hover:not(:disabled) {
		background-color: rgb(219 234 254); /* blue-100 */
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
		transform: translateY(-0.5px);
	}

	.dark .location-button:hover:not(:disabled) {
		background-color: rgb(30 64 175); /* blue-800 */
	}

	.location-button:active:not(:disabled) {
		background-color: rgb(191 219 254); /* blue-200 */
		transform: scale(0.98);
		box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
	}

	.dark .location-button:active:not(:disabled) {
		background-color: rgb(29 78 216); /* blue-700 */
	}
}

/* Rely on DaisyUI's btn/btn-primary styling */

/* Prefer DaisyUI card utilities; remove card-modern */

/* Use Tailwind utilities for gradient text: bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent */

/* Reduced-motion support */
@media (prefers-reduced-motion: reduce) {
	*, *::before, *::after {
		animation-duration: 0.001ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.001ms !important;
		scroll-behavior: auto !important;
	}
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Constrain media elements, not all elements/pseudo-elements */
img,
picture,
video,
canvas,
svg,
iframe {
	max-width: 100%;
}

/* Mobile Scroll Optimization */
html {
	/* Enable smooth scrolling */
	scroll-behavior: smooth;
	/* Optimize for mobile touch scrolling */
	-webkit-overflow-scrolling: touch;
	/* Prevent bouncing above the header while keeping normal body scroll */
	overscroll-behavior-y: none;
	/* Improve scroll performance */
	scroll-padding-top: 1rem;

	/* Prevent horizontal overflow at root to avoid side-scroll */
	overflow-x: hidden;
}

body {
	/* Enable hardware acceleration for smoother scrolling */
	-webkit-transform: translate3d(0, 0, 0);
	transform: translate3d(0, 0, 0);
	/* Optimize touch scrolling on mobile */
	-webkit-overflow-scrolling: touch;
	/* Allow native scroll chaining */
	overscroll-behavior: auto;
	/* Prevent horizontal scroll on mobile */
	overflow-x: hidden;
	/* Ensure width is constrained to viewport */
}

/* Optimize scrollable containers */
.scroll-smooth {
	-webkit-overflow-scrolling: touch;
	overscroll-behavior: contain;
	scroll-behavior: smooth;
}

/* Mobile-specific scroll optimizations */
@media (max-width: 768px) {
	/* Prevent body scroll when modals/dropdowns are open */
	.scroll-lock {
		overflow: hidden;
		position: fixed;
		width: 100%;
	}
}

@keyframes glow-pulse {
	0%,
	100% {
		box-shadow:
			0 0 0 4px rgba(140, 71, 153, 0.3),
			0 8px 32px rgba(140, 71, 153, 0.2);
	}
	50% {
		box-shadow:
			0 0 0 6px rgba(140, 71, 153, 0.4),
			0 12px 48px rgba(140, 71, 153, 0.3);
	}
}

.dark .glow-pulse {
	animation: glow-pulse-dark 2s ease-in-out infinite;
}

@keyframes glow-pulse-dark {
	0%,
	100% {
		box-shadow:
			0 0 0 4px rgba(179, 136, 255, 0.3),
			0 8px 32px rgba(179, 136, 255, 0.2);
	}
	50% {
		box-shadow:
			0 0 0 6px rgba(179, 136, 255, 0.4),
			0 12px 48px rgba(179, 136, 255, 0.3);
	}
}
